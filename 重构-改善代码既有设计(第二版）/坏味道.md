[TOC]

# 1. 神秘命名
让人看不出意图的命名。
函数、变量、类、模块、文件等都需要慎重的进行命名，我们认为好的命名应该是简短而清晰、可以快速让人看出意图。

# 2. 重复代码
无需解释

# 3. 过长函数
原因是函数越长越难理解，而且小函数除了易于理解，还有很多好处，比如更方便公用、移植。

# 4. 过长参数列表
这会使得参数的变动成为一件非常危险的事。

函数中的数据来源，通常只有两个来源：参数和作用域，参数过多固然会造成一些问题，然而通过作用域获取数据会造成更很可怕的影响，一般来说，我们还是推荐函数数据完全通过参数获取，即便可以在作用链中获取到。

# 5. 全局数据
虽然这个坏味道叫做全局数据，实际上在JS中利用作用域获取数据会有一样的问题。
对于维护者来说，这会是最恶心的几种坏味道之一，它让bug定位变得极为麻烦，因为高层作用域的数据可以在低级作用域的任意一处进行修改，这就是问题的关键，数据位置越高，可以修改它的地方就越多，极难以定位到。
也正是基于此，开发者应当尽量保证函数数据完全来源于参数。

# 6. 可变数据
数据的修改通常也是问题的高发域，不同的地方如果引用同一个数据，那么其中一处的影响就会影响到另一处。
常用手段是只使用专门的几个函数进行修改以便进行监控，函数式编程种的保证数据不可变性也是很好的手法，我们每次操作都得到一个新的值，这样旧的值就不会受到影响。

# 7. 发散式变化
修改多个方向上的功能，在一个上下文中全部进行，这就是问题的征兆。
当某个模块因为不同的原因在不同的方向上变化时，我们希望修改时每次可以只在一个上下文中进行，原因是每个上下文都有着大量信息，多个上下文意味着开发者需要了解更多的、与修改部分无关的数据和逻辑。这会极大程度增加维护的难度。
注意，这里是有多个修改，但是我们可以将修改拆分成不同阶段，然后每次都在一个上下文中进行修改，基于此，我们可能会需要一个清晰的数据结构以便于两个模块之间的数据交互。

# 8. 霰弹式修改
和发散式变化相反，如果要修改一个功能，却要跑到不同的函数中进行处理，这就是问题所在。原因是散落在四处的代码很容易被遗漏。

# 9. 依恋情结
模块块，就是力求将代码分出区域，最大化内部的交互，最小化跨区域的交互。如果一个模块或函数与外部数据的交互非常频繁，甚至超过内部数据的交互，那么就产生了依恋情结。

# 10. 数据泥团
有一些数据总是一起出现，比如类的字段或者函数参数，那么这个时候我们将它放到一个独立对象中会是一个好的选择，直接好处是可以简化函数调用。

# 11. 基本类型偏执
大量使用基本类型，而不考虑创建对自己有用的类（基本类型）

# 12. 重复的Switch
重复的Switch问题是：当我们想增加一个选择分支时，需要找到所有的Switch然后逐一更新，对于这个问题解决方案是多态

一个观点：所有Switch都使用多态替代，大部分if语句都可以使用多态替代

Switch一个问题是共享作用域导致的维护困难，另一个是难以实现代码复用【多态的复用几乎是天生的】

# 13. 循环语句
建议完全使用管道替代循环，管道操作可以帮助开发者更快看清操作的元素以及动作

# 14. 冗赘的元素
程序元素（如类和函数）可以给代码增加结构，从而支持变化、促进复用或者提供更好的名字，然而如果这一层元素并没有发挥作用，那么它就是多余的。

# 15. 夸夸其谈通用性
如果有“总有一天会用到，但是现在用不到”的代码，那么这部分代码就是多余的，是应该移除的死代码。

# 16. 临时字段
有的字段【实例状态或局部变量】并非在所有情况下都被使用，但是却被声明在了更高的位置，那么这个时候建议将其提取成一个独立的类/函数，让这个字段和相关的操作动作放到一起，而不是放在更高的作用域污染。

# 17. 过长的消息链
当程序想要使用一个数据时，需要向另一些函数/类请求，获取数据本身变成了一个麻烦的步骤，这个时候建议将这个步骤提炼成函数处理

解决方案：
1. 隐藏委托关系
2. 提炼函数 + 搬移函数【更好的选择】

# 18. 中间人
如果一个类有超过一半的接口是委托给其他类的，那么这个时候越过这个类直接使用被委托的类是更好的选择【函数同样适用】

# 19. 内幕交易
开发者讨厌模块间的大量数据交互，但是如果这个交换不可避免，那么要将交换放到明面上，而不是隐藏起交换的具体数据。

# 20. 过大的类
单个类过大会导致数据和逻辑过多难以分析，将其拆分成单个类是推荐的做法【函数同样适用】

# 21. 异曲同工的类
名字不同，但是调用和功能完全相同的类【函数同样适用】

# 22. 纯数据类
类是相关数据和行为的集合体，如果只有行为或只有数据那么这个类是没有必要

# 23. 被拒绝的遗赠
超类最好只包含子类需要共享的东西，额外的东西交由子类来实现即可。我们允许子类对超类的方法进行重新实现，但必须要做到的是：子类必须支持超类的接口。如果做不到这一点，那就不要使用继承

# 24. 注释
注释最好只用于阐述业务上的迷惑点，如果注释是因为代码的不规范导致的难以理解，那么更建议重构代码以使得注释变得多余。
推荐的注释一般有以下几种：
1. 记录为什么这么做的理由
2. 记录你想要在这里做什么
3. 标记可能出问题的区域
不建议使用注释阐述代码来做什么，每当我们想用注释去说明代码在做什么时，应当重构代码使其不用注释也能容易看懂