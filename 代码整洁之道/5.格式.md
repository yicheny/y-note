[TOC]

# 为什么需要关注格式？
格式影响沟通，好的格式有利于相互阅读和沟通，沟通对于开发团队来说至关重要，团队需要统一的风格

# 垂直格式
## 1. 向报纸学习
源文件名称应当简单一目了然，让阅读者知道它是什么。

源文件最顶部应该给出高层次概念和算法，细节应该往下渐次展开，直至找到源文件中最底层的函数和细节

## 2. 概念间垂直方向上的区隔
利用空格分隔开不同概念这条规则非常重要！

常见的引用模块和开发代码应该分隔，函数、类、组件这种提供语境的模块应该也有区隔。在代码块中，也应将相关概念和其他概念分隔，使阅读者更容易看出相互间的联系。

## 3. 垂直方向上的靠近
与上一条正相反，我们将不同的概念用空格隔开，将关联的概念靠尽，则暗示了它们之间的紧密联系

## 4. 垂直距离
和前两条有所关联，原则是相关函数(执行同一任务、互相调用)应该放在一起，尽可能的放在同一文件，位置根据其关系密切度摆放。

## 5. 垂直顺序
被调用的函数应该放在执行调用的函数下面，这样会建立一种自顶向下贯穿源代码模块的良好信息流。

阅读代码我们期望最重要的概念先出来，希望以包括最少细节的方式表述它们，希望底层细节最后出来。这么做的好处在于我们可以快速扫过代码，从最开始的几行代码获取主要信息，而不至于被细节所淹没。

# 横向格式
> 以单行字符而言，推荐在80个以内，上限不能超过120，否则有碍阅读

## 水平方向上的区隔与靠近
和垂直方向一样，将紧密相关的代码连接到一起，将相关性较弱的代码用空格分隔开，比如：
```js
function getAttackValue(a,b,c){
    return b*b - 4*a*c;
}
```

## 水平对齐
水平对齐是不必要且不推荐的，见下：
```js
const a                 = 1;
const bbbb              = 1;
const cde               = 2;
const ccccfffe          = 1;
const cccc3r4342222     = 1;
```
这种写法反而使得阅读变得麻烦，而且编辑器格式化的时候还是会打乱对齐。

## 缩进
缩进是非常重要的，通过缩进控制结构我们可以很清楚的看出工作的内容，否则代码难以阅读，比如：

合理的写法：
```js
function getFuns(){
    return {fun1,fun2,fun3};

    function fun1(a,b){
        return a.map(x,x=>{
            x += 10;
            x = 3*b+x;
            x = `xxxx${x}`;
            return x;
        })
    }

    function fun2(a,b){
        if(a===1){
            a += 7;
            a = a*b;
        }
        if(a===2){
            a += 10;
            a = a-b;
        }
        return a;
    }

    function fun3(a,b){
        try{
            return a.add(b);
        }catch(e){
            throw e
        }
    }
}
```

混乱的写法：
```js
function getFuns(){return {fun1,fun2,fun3};function fun1(a,b){return a.map(x,x=>{  x += 10;x = 3*b+x;x = `xxxx${x}`; return x;})}function fun2(a,b){if(a===1){ a += 7;  a = a*b; }if(a===2){a += 10;a = a-b; } return a; }function fun3(a,b){ try{return a.add(b);}catch(e){throw e}}}
```

## 空范围
`for`或`while`的语句体为空的场景，不要让这种情况出现。如果无法避免，加上`{}`缩进，不要只用一个`;`，尤其是不要使用换行的`;`

# 团队规则
个人风格应遵从于团队风格之下
